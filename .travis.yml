language: dart

dart:
  - dev

branches:
  only: [master]

dart_task:
  - dartfmt
  - pub run build_runner build
  - test
  - dartanalyzer

script:
  - pub run test_coverage

after_success:
  - bash <(curl -s https://codecov.io/bash)

cache:
  directories:
    - $HOME/.pub-cache
    - .dart_tool
